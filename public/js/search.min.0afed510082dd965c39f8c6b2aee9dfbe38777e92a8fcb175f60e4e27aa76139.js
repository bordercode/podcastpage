(function(){'use strict';const a=new FlexSearch.Document({document:{id:'id',index:['title','tags','content','date'],store:['title','summary','date','permalink']}});function c(a){const d=document.querySelector('template').content,b=document.createDocumentFragment(),c=document.querySelector('.search-results');c.textContent='';for(const g in a){const c=a[g],e=d.cloneNode(!0),f=e.querySelector('a'),h=e.querySelector('time'),i=e.querySelector('.content');f.innerHTML=c.title,f.href=c.permalink,h.innerText=c.date,i.innerHTML=c.summary,b.appendChild(e)}c.appendChild(b)}function b(){const d=document.querySelector('.search-text').value.trim(),e=a.search({query:d,enrich:!0,limit:20}),b={};e.forEach(function(a){a.result.forEach(function(a){b[a.id]=a.doc})}),c(b)}function d(){const a=document.querySelector('.search-form');a.addEventListener('submit',function(a){a.preventDefault(),b()}),a.addEventListener('input',function(){b()}),document.querySelector('.search-loading').classList.add('hidden'),document.querySelector('.search-input').classList.remove('hidden'),document.querySelector('.search-text').focus()}function e(){document.querySelector('.search-loading').classList.remove('hidden'),fetch('/searchindex.json').then(function(a){return a.json()}).then(function(b){b.forEach(function(b){a.add(b)})})}e(),d()})()